{{ define "main" }}
  <div class="rvt-container rvt-container--junior rvt-container--center rvtd-article-container rvtd-article-container--top-only">
    <div class="rvt-grid">
      <div class="rvt-grid__item-8-md-up">
        <div class="rvtd-typeset">
          <a href="../" class="rvtd-pre-header rvt-m-bottom-xxs rvt-text-uppercase">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
              <path fill="currentColor" d="M10.5,15a1,1,0,0,1-.77-.36L4.87,8.8a1.25,1.25,0,0,1,0-1.61L9.73,1.36a1,1,0,0,1,1.54,1.28L6.8,8l4.47,5.36A1,1,0,0,1,10.5,15ZM6.41,8.47h0Zm0-1h0Z"/>
            </svg>
            <span class="rvt-m-left-xxs">
              <span class="rvt-sr-only">Go back to all</span> Add-ons
            </span>
          </a>
          <h1>{{ .Title | markdownify }}</h1>
          <p class="rvtd-lead rvtd-lead--no-border">{{ .Description }}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="rvt-container rvt-container--junior rvt-container--center">
    <div class="rvtd-toolbar">
      <div class="rvtd-toolbar__primary">
        {{ if .Params.npm }}
        <div class="rvtd-toolbar__url">
          <span id="package-{{ .Params.packageName | md5 }}">npm install {{ .Params.packageName }}</span>
        </div>
        <button type="button" class="rvt-button rvtd-package-copy" role="button" data-clipboard-target="#package-{{ .Params.packageName | md5 }}">Copy</button>
        {{ end }}
      </div>
      <div class="rvtd-toolbar__secondary">
        <a href="{{ .Params.repo }}/archive/master.zip">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <title>Download</title>
            <g fill="currentColor">
              <path d="M14.25,11a1,1,0,0,0-1,1v1H2.75V12a1,1,0,0,0-2,0v1.75A1.25,1.25,0,0,0,2,15H14a1.25,1.25,0,0,0,1.25-1.25V12A1,1,0,0,0,14.25,11Z"/>
              <path d="M7.29,10.71a1,1,0,0,0,1.41,0l4-4a1,1,0,0,0-1.41-1.41L9,7.59V1A1,1,0,0,0,7,1V7.59L4.71,5.29A1,1,0,0,0,3.29,6.71Z"/>
            </g>
          </svg>
          <span class="rvt-m-left-xs">Download</span>
        </a>
        <a href="{{ .Params.repo }}" target="_blank" rel="noopener">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <g fill="currentColor">
              <path d="M5,14a1,1,0,0,1-.78-.37l-4-5a1,1,0,0,1,0-1.25l4-5A1,1,0,0,1,5.78,3.63L2.28,8l3.5,4.38A1,1,0,0,1,5,14Z" />
              <path d="M11,14a1,1,0,0,1-.78-1.62L13.72,8l-3.5-4.37a1,1,0,0,1,1.56-1.25l4,5a1,1,0,0,1,0,1.25l-4,5A1,1,0,0,1,11,14Z" />
            </g>
          </svg>
          <span class="rvt-m-left-xs">Source</span>
        </a>
        {{ if .Params.demo }}
        <a href="{{ .Params.demo }}" target="_blank" rel="noopener">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <g fill="currentColor">
              <path d="M10.75,15H2.25A1.25,1.25,0,0,1,1,13.75V5.25A1.25,1.25,0,0,1,2.25,4H6A1,1,0,0,1,6,6H3v7h7V10a1,1,0,0,1,2,0v3.75A1.25,1.25,0,0,1,10.75,15Z"/>
              <path d="M14.71,1.29A1,1,0,0,0,13.87,1l-.12,0H9A1,1,0,0,0,9,3h2.59L7.29,7.29A1,1,0,1,0,8.71,8.71L13,4.41V7a1,1,0,0,0,2,0V2.25a1.17,1.17,0,0,0,0-.12A1,1,0,0,0,14.71,1.29Z"/>
            </g>
          </svg>
          <span class="rvt-m-left-xs">Demo</span>
        </a>
        {{ end }}
      </div>
    </div>
  </div>

  <div class="rvt-container rvt-container--junior rvt-container--center">
    <div class="rvt-grid">
      <div class="rvt-grid__item-8-md-up">
        <div class="rvtd-docs-tube rvtd-typeset rvtd-typeset--flat-top">
          {{ if eq .Params.status "Alpha" }}
            <div class="rvt-alert rvt-alert--message rvt-m-bottom-md">
              <p class="rvt-alert__message">
                This Add-on is in the {{ .Params.status }} stage of development. You can find out more about the different stages <a href="../../components/information/component-status">on this page</a>.
              </p>
            </div>
          {{ end }}

          {{ $apiBaseUrl := replace .Params.repo "https://github.com" "https://api.github.com/repos" }}
          {{ $readmeJson := getJSON $apiBaseUrl "/readme" }}
          {{ markdownify (base64Decode $readmeJson.content) }}

        </div>
      </div>
      <div class="rvt-grid__item-4-md-up">
        <div class="rvtd-docs-sidebar">
          <h2 class="rvt-ts--20 rvt-text-bold rvt-m-bottom-sm">Screenshot</h2>
          {{ if .Params.thumbnail }}
          <a href="../../img/add-ons/{{ .Params.thumbnail }}">
            <img
              class="rvtd-thumbnail rvtd-thumbnail--{{ index .Params.addOnTags 1 | lower }}"
              src="../../img/add-ons/{{ .Params.thumbnail }}"
              alt="Screenshot of the {{ .Title }} Add-on displayed in a web browser"
            >
          </a>
          {{ else }}
          <img class="rvtd-thumbnail" src="../../img/add-ons/add-on-placeholder.jpg" alt="">
          {{ end }}
          <h2 class="rvt-ts--20 rvt-text-bold rvt-m-top-xxl rvt-m-bottom-sm">About Rivet Add-ons</h2>
          <p>Rivet Add-ons are components, plugins, and other utilities that can be included in Rivet projects on an as-needed basis.</p>
        </div>
      </div>
    </div>
  </div>
{{ end }}